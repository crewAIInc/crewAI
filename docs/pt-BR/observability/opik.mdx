---
title: Integra√ß√£o Opik
description: Saiba como usar o Comet Opik para depurar, avaliar e monitorar suas aplica√ß√µes CrewAI com rastreamento abrangente, avalia√ß√µes automatizadas e dashboards prontos para produ√ß√£o.
icon: meteor
---

# Vis√£o Geral do Opik

Com o [Comet Opik](https://www.comet.com/docs/opik/), depure, avalie e monitore suas aplica√ß√µes LLM, sistemas RAG e fluxos de trabalho agentic com rastreamento detalhado, avalia√ß√µes automatizadas e dashboards prontos para produ√ß√£o.

<Frame caption="Dashboard do Agente Opik">
  <img src="/images/opik-crewai-dashboard.png" alt="Exemplo de monitoramento de agente Opik com CrewAI" />
</Frame>

O Opik oferece suporte abrangente para cada etapa do desenvolvimento da sua aplica√ß√£o CrewAI:

- **Registrar Traces e Spans**: Acompanhe automaticamente chamadas LLM e l√≥gica da aplica√ß√£o para depurar e analisar sistemas em desenvolvimento e em produ√ß√£o. Anote manualmente ou programaticamente, visualize e compare respostas entre projetos.
- **Avalie a Performance da sua Aplica√ß√£o LLM**: Avalie contra um conjunto de testes personalizado e execute m√©tricas de avalia√ß√£o nativas ou defina suas pr√≥prias m√©tricas via SDK ou UI.
- **Teste no Pipeline CI/CD**: Estabele√ßa bases de performance confi√°veis com os testes unit√°rios LLM do Opik, baseados em PyTest. Execute avalia√ß√µes online para monitoramento cont√≠nuo em produ√ß√£o.
- **Monitore & Analise Dados de Produ√ß√£o**: Entenda a performance dos seus modelos em dados in√©ditos em produ√ß√£o e gere conjuntos de dados para novas itera√ß√µes de desenvolvimento.

## Configura√ß√£o
A Comet oferece uma vers√£o hospedada da plataforma Opik, ou voc√™ pode rodar a plataforma localmente.

Para usar a vers√£o hospedada, basta [criar uma conta gratuita na Comet](https://www.comet.com/signup?utm_medium=github&utm_source=crewai_docs) e obter sua chave de API.

Para rodar a plataforma Opik localmente, veja nosso [guia de instala√ß√£o](https://www.comet.com/docs/opik/self-host/overview/) para mais informa√ß√µes.

Neste guia, utilizaremos o exemplo de in√≠cio r√°pido da CrewAI.

<Steps>
    <Step title="Instale os pacotes necess√°rios">
      ```shell
      pip install crewai crewai-tools opik --upgrade
      ```
    </Step>
    <Step title="Configure o Opik">
      ```python
      import opik
      opik.configure(use_local=False)
      ```
    </Step>
    <Step title="Prepare o ambiente">
      Primeiro, configuramos nossas chaves de API do provedor LLM como vari√°veis de ambiente:
  
      ```python
      import os
      import getpass

      if "OPENAI_API_KEY" not in os.environ:
      os.environ["OPENAI_API_KEY"] = getpass.getpass("Enter your OpenAI API key: ")
      ```
    </Step>
    <Step title="Usando a CrewAI">
      O primeiro passo √© criar nosso projeto. Vamos utilizar um exemplo da documenta√ß√£o do CrewAI:

      ```python
      from crewai import Agent, Crew, Task, Process


      class NomeDaEquipe:
          def agente_um(self) -> Agent:
              return Agent(
                  role="Analista de Dados",
                  goal="Analisar tend√™ncias de dados no mercado",
                  backstory="Analista de dados experiente com forma√ß√£o em economia",
                  verbose=True,
              )

          def agente_dois(self) -> Agent:
              return Agent(
                  role="Pesquisador de Mercado",
                  goal="Coletar informa√ß√µes sobre a din√¢mica do mercado",
                  backstory="Pesquisador dedicado com olhar atento para detalhes",
                  verbose=True,
              )

          def tarefa_um(self) -> Task:
              return Task(
                  name="Tarefa de Coleta de Dados",
                  description="Coletar dados recentes do mercado e identificar tend√™ncias.",
                  expected_output="Um relat√≥rio resumindo as principais tend√™ncias do mercado.",
                  agent=self.agente_um(),
              )

          def tarefa_dois(self) -> Task:
              return Task(
                  name="Tarefa de Pesquisa de Mercado",
                  description="Pesquisar fatores que afetam a din√¢mica do mercado.",
                  expected_output="Uma an√°lise dos fatores que influenciam o mercado.",
                  agent=self.agente_dois(),
              )

          def equipe(self) -> Crew:
              return Crew(
                  agents=[self.agente_um(), self.agente_dois()],
                  tasks=[self.tarefa_um(), self.tarefa_dois()],
                  process=Process.sequential,
                  verbose=True,
              )

      ```

      Agora podemos importar o tracker do Opik e executar nossa crew:
  
      ```python
      from opik.integrations.crewai import track_crewai

      track_crewai(project_name="crewai-integration-demo")

      my_crew = NomeDaEquipe().equipe()
      result = my_crew.kickoff()

      print(result)
      ```
      Ap√≥s rodar sua aplica√ß√£o CrewAI, acesse o app Opik para visualizar:
      - Traces LLM, spans e seus metadados
      - Intera√ß√µes dos agentes e fluxo de execu√ß√£o das tarefas
      - M√©tricas de performance, como lat√™ncia e uso de tokens
      - M√©tricas de avalia√ß√£o (nativas ou personalizadas)
    </Step>
</Steps>

## Recursos

- [ü¶â Documenta√ß√£o Opik](https://www.comet.com/docs/opik/)
- [üëâ Opik + CrewAI Colab](https://colab.research.google.com/github/comet-ml/opik/blob/main/apps/opik-documentation/documentation/docs/cookbook/crewai.ipynb)
- [üê¶ X](https://x.com/cometml)
- [üí¨ Slack](https://slack.comet.com/)