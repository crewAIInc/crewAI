---
title: "Triggers de Automa√ß√£o"
description: "Execute automaticamente seus workflows CrewAI quando eventos espec√≠ficos ocorrem em integra√ß√µes conectadas"
icon: "bolt"
---

Os triggers de automa√ß√£o permitem executar automaticamente suas implanta√ß√µes CrewAI quando eventos espec√≠ficos ocorrem em suas integra√ß√µes conectadas, criando workflows poderosos orientados por eventos que respondem a mudan√ßas em tempo real em seus sistemas de neg√≥cio.

## Vis√£o Geral

Com triggers de automa√ß√£o, voc√™ pode:

- **Responder a eventos em tempo real** - Execute workflows automaticamente quando condi√ß√µes espec√≠ficas forem atendidas
- **Integrar com sistemas externos** - Conecte com plataformas como Gmail, Outlook, OneDrive, JIRA, Slack, Stripe e muito mais
- **Escalar sua automa√ß√£o** - Lide com eventos de alto volume sem interven√ß√£o manual
- **Manter contexto** - Acesse dados do trigger dentro de suas crews e flows

## Gerenciando Triggers de Automa√ß√£o

### Visualizando Triggers Dispon√≠veis

Para acessar e gerenciar seus triggers de automa√ß√£o:

1. Navegue at√© sua implanta√ß√£o no painel do CrewAI
2. Clique na aba **Triggers** para visualizar todas as integra√ß√µes de trigger dispon√≠veis

<Frame>
  <img src="/images/enterprise/list-available-triggers.png" alt="Lista de triggers de automa√ß√£o dispon√≠veis" />
</Frame>

Esta visualiza√ß√£o mostra todas as integra√ß√µes de trigger dispon√≠veis para sua implanta√ß√£o, junto com seus status de conex√£o atuais.

### Habilitando e Desabilitando Triggers

Cada trigger pode ser facilmente habilitado ou desabilitado usando o bot√£o de altern√¢ncia:

<Frame>
  <img src="/images/enterprise/trigger-selected.png" alt="Habilitar ou desabilitar triggers com altern√¢ncia" />
</Frame>

- **Habilitado (altern√¢ncia azul)**: O trigger est√° ativo e executar√° automaticamente sua implanta√ß√£o quando os eventos especificados ocorrerem
- **Desabilitado (altern√¢ncia cinza)**: O trigger est√° inativo e n√£o responder√° a eventos

Simplesmente clique na altern√¢ncia para mudar o estado do trigger. As altera√ß√µes entram em vigor imediatamente.

### Monitorando Execu√ß√µes de Trigger

Acompanhe o desempenho e hist√≥rico de suas execu√ß√µes acionadas:

<Frame>
  <img src="/images/enterprise/list-executions.png" alt="Lista de execu√ß√µes acionadas por automa√ß√£o" />
</Frame>

## Construindo Automa√ß√£o

Antes de construir sua automa√ß√£o, √© √∫til entender a estrutura dos payloads de trigger que suas crews e flows receber√£o.

### Reposit√≥rio de Amostras de Payload

Mantemos um reposit√≥rio abrangente com amostras de payload de v√°rias fontes de trigger para ajud√°-lo a construir e testar suas automa√ß√µes:

**üîó [Amostras de Payload de Trigger CrewAI Enterprise](https://github.com/crewAIInc/crewai-enterprise-trigger-payload-samples)**

Este reposit√≥rio cont√©m:

- **Exemplos reais de payload** de diferentes fontes de trigger (Gmail, Google Drive, etc.)
- **Documenta√ß√£o da estrutura de payload** mostrando o formato e campos dispon√≠veis

### Triggers com Crew

Suas defini√ß√µes de crew existentes funcionam perfeitamente com triggers, voc√™ s√≥ precisa ter uma tarefa para analisar o payload recebido:

```python
@CrewBase
class MinhaCrewAutomatizada:
    @agent
    def pesquisador(self) -> Agent:
        return Agent(
            config=self.agents_config['pesquisador'],
        )

    @task
    def analisar_payload_trigger(self) -> Task:
        return Task(
            config=self.tasks_config['analisar_payload_trigger'],
            agent=self.pesquisador(),
        )

    @task
    def analisar_conteudo_trigger(self) -> Task:
        return Task(
            config=self.tasks_config['analisar_dados_trigger'],
            agent=self.pesquisador(),
        )
```

A crew receber√° automaticamente e pode acessar o payload do trigger atrav√©s dos mecanismos de contexto padr√£o do CrewAI.

### Integra√ß√£o com Flows

Para flows, voc√™ tem mais controle sobre como os dados do trigger s√£o tratados:

#### Acessando Payload do Trigger

Todos os m√©todos `@start()` em seus flows aceitar√£o um par√¢metro adicional chamado `crewai_trigger_payload`:

```python
from crewai.flow import Flow, start, listen

class MeuFlowAutomatizado(Flow):
    @start()
    def lidar_com_trigger(self, crewai_trigger_payload: dict = None):
        """
        Este m√©todo start pode receber dados do trigger
        """
        if crewai_trigger_payload:
            # Processa os dados do trigger
            trigger_id = crewai_trigger_payload.get('id')
            dados_evento = crewai_trigger_payload.get('payload', {})

            # Armazena no estado do flow para uso por outros m√©todos
            self.state.trigger_id = trigger_id
            self.state.trigger_type = dados_evento

            return dados_evento

        # Lida com execu√ß√£o manual
        return None

    @listen(lidar_com_trigger)
    def processar_dados(self, dados_trigger):
        """
        Processa os dados do trigger
        """
        # ... processa o trigger
```

#### Acionando Crews a partir de Flows

Ao iniciar uma crew dentro de um flow que foi acionado, passe o payload do trigger conforme ele:

```python
@start()
def delegar_para_crew(self, crewai_trigger_payload: dict = None):
    """
    Delega processamento para uma crew especializada
    """
    crew = MinhaCrewEspecializada()

    # Passa o payload do trigger para a crew
    resultado = crew.crew().kickoff(
        inputs={
            'parametro_personalizado': "valor_personalizado",
            'crewai_trigger_payload': crewai_trigger_payload
        },
    )

    return resultado
```

## Solu√ß√£o de Problemas

**Trigger n√£o est√° sendo disparado:**
- Verifique se o trigger est√° habilitado
- Verifique o status de conex√£o da integra√ß√£o

**Falhas de execu√ß√£o:**
- Verifique os logs de execu√ß√£o para detalhes do erro
- Se voc√™ est√° desenvolvendo, certifique-se de que as entradas incluem o par√¢metro `crewai_trigger_payload` com o payload correto

Os triggers de automa√ß√£o transformam suas implanta√ß√µes CrewAI em sistemas responsivos orientados por eventos que podem se integrar perfeitamente com seus processos de neg√≥cio e ferramentas existentes.
