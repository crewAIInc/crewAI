---
title: Colabora√ß√£o
description: Como permitir que agentes trabalhem juntos, deleguem tarefas e se comuniquem de forma eficaz em equipes CrewAI.
icon: screen-users
---

## Vis√£o Geral

A colabora√ß√£o no CrewAI permite que agentes trabalhem juntos como uma equipe, delegando tarefas e fazendo perguntas para aproveitar a expertise uns dos outros. Quando `allow_delegation=True`, os agentes automaticamente t√™m acesso a poderosas ferramentas de colabora√ß√£o.

## Guia R√°pido: Habilite a Colabora√ß√£o

```python
from crewai import Agent, Crew, Task

# Enable collaboration for agents
researcher = Agent(
    role="Especialista em Pesquisa",
    goal="Realizar pesquisas aprofundadas sobre qualquer tema",
    backstory="Pesquisador especialista com acesso a diversas fontes",
    allow_delegation=True,  # üîë Configura√ß√£o chave para colabora√ß√£o
    verbose=True
)

writer = Agent(
    role="Redator de Conte√∫do",
    goal="Criar conte√∫do envolvente com base em pesquisas",
    backstory="Redator habilidoso que transforma pesquisas em conte√∫do atraente",
    allow_delegation=True,  # üîë Permite fazer perguntas a outros agentes
    verbose=True
)

# Agents can now collaborate automatically
crew = Crew(
    agents=[researcher, writer],
    tasks=[...],
    verbose=True
)
```

## Como Funciona a Colabora√ß√£o entre Agentes

Quando `allow_delegation=True`, o CrewAI automaticamente fornece aos agentes duas ferramentas poderosas:

### 1. **Ferramenta de Delega√ß√£o de Trabalho**
Permite que agentes designem tarefas para colegas com expertise espec√≠fica.

```python
# Agent automatically gets this tool:
# Delegate work to coworker(task: str, context: str, coworker: str)
```

### 2. **Ferramenta de Fazer Pergunta**
Permite que agentes fa√ßam perguntas espec√≠ficas para obter informa√ß√µes de colegas.

```python
# Agent automatically gets this tool:
# Ask question to coworker(question: str, context: str, coworker: str)
```

## Colabora√ß√£o em A√ß√£o

Veja um exemplo completo onde agentes colaboram em uma tarefa de cria√ß√£o de conte√∫do:

```python
from crewai import Agent, Crew, Task, Process

# Create collaborative agents
researcher = Agent(
    role="Especialista em Pesquisa",
    goal="Realizar pesquisas aprofundadas sobre qualquer tema",
    backstory="Pesquisador especialista com acesso a diversas fontes",
    allow_delegation=True,
    verbose=True
)

writer = Agent(
    role="Redator de Conte√∫do",
    goal="Criar conte√∫do envolvente com base em pesquisas",
    backstory="Redator habilidoso que transforma pesquisas em conte√∫do atraente",
    allow_delegation=True,
    verbose=True
)

editor = Agent(
    role="Content Editor",
    goal="Ensure content quality and consistency",
    backstory="""You're an experienced editor with an eye for detail, 
    ensuring content meets high standards for clarity and accuracy.""",
    allow_delegation=True,
    verbose=True
)

# Create a task that encourages collaboration
article_task = Task(
    description="""Escreva um artigo abrangente de 1000 palavras sobre 'O Futuro da IA na Sa√∫de'.

O artigo deve incluir:
- Aplica√ß√µes atuais de IA na sa√∫de
- Tend√™ncias e tecnologias emergentes
- Desafios potenciais e considera√ß√µes √©ticas
- Previs√µes de especialistas para os pr√≥ximos 5 anos

Colabore com seus colegas para garantir precis√£o e qualidade.""",
    expected_output="Um artigo bem pesquisado, envolvente, com 1000 palavras, estrutura adequada e cita√ß√µes",
    agent=writer  # O redator lidera, mas pode delegar pesquisa ao pesquisador
)

# Create collaborative crew
crew = Crew(
    agents=[researcher, writer, editor],
    tasks=[article_task],
    process=Process.sequential,
    verbose=True
)

result = crew.kickoff()
```

## Padr√µes de Colabora√ß√£o

### Padr√£o 1: Pesquisa ‚Üí Reda√ß√£o ‚Üí Edi√ß√£o
```python
research_task = Task(
    description="Pesquise os √∫ltimos avan√ßos em computa√ß√£o qu√¢ntica",
    expected_output="Resumo abrangente da pesquisa com principais descobertas e fontes",
    agent=researcher
)

writing_task = Task(
    description="Escreva um artigo com base nos achados da pesquisa",
    expected_output="Artigo envolvente de 800 palavras sobre computa√ß√£o qu√¢ntica",
    agent=writer,
    context=[research_task]  # Recebe a sa√≠da da pesquisa como contexto
)

editing_task = Task(
    description="Edite e revise o artigo para publica√ß√£o",
    expected_output="Artigo pronto para publica√ß√£o, com clareza e fluidez aprimoradas",
    agent=editor,
    context=[writing_task]  # Recebe o rascunho do artigo como contexto
)
```

### Padr√£o 2: Tarefa √önica Colaborativa
```python
collaborative_task = Task(
    description="""Crie uma estrat√©gia de marketing para um novo produto de IA.

Redator: Foque em mensagens e estrat√©gia de conte√∫do
Pesquisador: Forne√ßa an√°lise de mercado e insights de concorrentes

Trabalhem juntos para criar uma estrat√©gia abrangente.""",
    expected_output="Estrat√©gia de marketing completa com embasamento em pesquisa",
    agent=writer  # Agente l√≠der, mas pode delegar ao pesquisador
)
```

## Colabora√ß√£o Hier√°rquica

Para projetos complexos, utilize um processo hier√°rquico com um agente gerente:

```python
from crewai import Agent, Crew, Task, Process

# Manager agent coordinates the team
manager = Agent(
    role="Gerente de Projetos",
    goal="Coordenar esfor√ßos da equipe e garantir o sucesso do projeto",
    backstory="Gerente de projetos experiente, habilidoso em delega√ß√£o e controle de qualidade",
    allow_delegation=True,
    verbose=True
)

# Specialist agents
researcher = Agent(
    role="Pesquisador",
    goal="Fornecer pesquisa e an√°lise precisas",
    backstory="Pesquisador especialista com habilidades anal√≠ticas profundas",
    allow_delegation=False,  # Especialistas focam em sua expertise
    verbose=True
)

writer = Agent(
    role="Redator",
    goal="Criar conte√∫do envolvente",
    backstory="Redator habilidoso que cria conte√∫do atraente",
    allow_delegation=False,
    verbose=True
)

# Manager-led task
project_task = Task(
    description="Crie um relat√≥rio de an√°lise de mercado completo com recomenda√ß√µes",
    expected_output="Resumo executivo, an√°lise detalhada e recomenda√ß√µes estrat√©gicas",
    agent=manager  # O gerente delega para especialistas
)

# Hierarchical crew
crew = Crew(
    agents=[manager, researcher, writer],
    tasks=[project_task],
    process=Process.hierarchical,  # Manager coordinates everything
    manager_llm="gpt-4o",  # Specify LLM for manager
    verbose=True
)
```

## Melhores Pr√°ticas para Colabora√ß√£o

### 1. **Defini√ß√£o Clara de Pap√©is**
```python
# ‚úÖ Bom: pap√©is espec√≠ficos e complementares
researcher = Agent(role="Market Research Analyst", ...)
writer = Agent(role="Technical Content Writer", ...)

# ‚ùå Evite: Pap√©is sobrepostos ou vagos  
agent1 = Agent(role="General Assistant", ...)
agent2 = Agent(role="Helper", ...)
```

### 2. **Delega√ß√£o Estrat√©gica Habilitada**
```python
# ‚úÖ Habilite delega√ß√£o para coordenadores e generalistas
lead_agent = Agent(
    role="Content Lead",
    allow_delegation=True,  # Can delegate to specialists
    ...
)

# ‚úÖ Desative para especialistas focados (opcional)
specialist_agent = Agent(
    role="Data Analyst", 
    allow_delegation=False,  # Focuses on core expertise
    ...
)
```

### 3. **Compartilhamento de Contexto**
```python
# ‚úÖ Use o par√¢metro context para depend√™ncias entre tarefas
writing_task = Task(
    description="Write article based on research",
    agent=writer,
    context=[research_task],  # Shares research results
    ...
)
```

### 4. **Descri√ß√µes Claras de Tarefas**
```python
# ‚úÖ Descri√ß√µes espec√≠ficas e acion√°veis
Task(
    description="""Research competitors in the AI chatbot space.
    Focus on: pricing models, key features, target markets.
    Provide data in a structured format.""",
    ...
)

# ‚ùå Descri√ß√µes vagas que n√£o orientam a colabora√ß√£o
Task(description="Do some research about chatbots", ...)
```

## Solu√ß√£o de Problemas em Colabora√ß√£o

### Problema: Agentes N√£o Colaboram
**Sintomas:** Agentes trabalham isoladamente, sem ocorrer delega√ß√£o
```python
# ‚úÖ Solu√ß√£o: Certifique-se que a delega√ß√£o est√° habilitada
agent = Agent(
    role="...",
    allow_delegation=True,  # This is required!
    ...
)
```

### Problema: Troca Excessiva de Perguntas
**Sintomas:** Agentes fazem perguntas em excesso, progresso lento
```python
# ‚úÖ Solu√ß√£o: Forne√ßa melhor contexto e pap√©is espec√≠ficos
Task(
    description="""Write a technical blog post about machine learning.
    
    Context: Target audience is software developers with basic ML knowledge.
    Length: 1200 words
    Include: code examples, practical applications, best practices
    
    If you need specific technical details, delegate research to the researcher.""",
    ...
)
```

### Problema: Loops de Delega√ß√£o
**Sintomas:** Agentes delegam tarefas repetidamente uns para os outros indefinidamente
```python
# ‚úÖ Solu√ß√£o: Hierarquia e responsabilidades bem definidas
manager = Agent(role="Manager", allow_delegation=True)
specialist1 = Agent(role="Specialist A", allow_delegation=False)  # No re-delegation
specialist2 = Agent(role="Specialist B", allow_delegation=False)
```

## Recursos Avan√ßados de Colabora√ß√£o

### Regras Personalizadas de Colabora√ß√£o
```python
# Set specific collaboration guidelines in agent backstory
agent = Agent(
    role="Senior Developer",
    backstory="""You lead development projects and coordinate with team members.
    
    Collaboration guidelines:
    - Delegate research tasks to the Research Analyst
    - Ask the Designer for UI/UX guidance  
    - Consult the QA Engineer for testing strategies
    - Only escalate blocking issues to the Project Manager""",
    allow_delegation=True
)
```

### Monitoramento da Colabora√ß√£o
```python
def track_collaboration(output):
    """Track collaboration patterns"""
    if "Delegate work to coworker" in output.raw:
        print("ü§ù Delegation occurred")
    if "Ask question to coworker" in output.raw:
        print("‚ùì Question asked")

crew = Crew(
    agents=[...],
    tasks=[...],
    step_callback=track_collaboration,  # Monitor collaboration
    verbose=True
)
```

## Mem√≥ria e Aprendizado

Permita que agentes se lembrem de colabora√ß√µes passadas:

```python
agent = Agent(
    role="Content Lead",
    memory=True,  # Remembers past interactions
    allow_delegation=True,
    verbose=True
)
```

Com a mem√≥ria ativada, os agentes aprendem com colabora√ß√µes anteriores e aprimoram suas decis√µes de delega√ß√£o ao longo do tempo.

## Pr√≥ximos Passos

- **Teste os exemplos**: Comece pelo exemplo b√°sico de colabora√ß√£o
- **Experimente diferentes pap√©is**: Teste combina√ß√µes variadas de pap√©is de agentes  
- **Monitore as intera√ß√µes**: Use `verbose=True` para ver a colabora√ß√£o em a√ß√£o
- **Otimize descri√ß√µes de tarefas**: Tarefas claras geram melhor colabora√ß√£o
- **Escale**: Experimente processos hier√°rquicos para projetos complexos

A colabora√ß√£o transforma agentes de IA individuais em equipes poderosas capazes de enfrentar desafios complexos e multifacetados juntos.