---
title: Arize Phoenix
description: OpenTelemetry ë° OpenInferenceê°€ í¬í•¨ëœ CrewAIìš© Arize Phoenix í†µí•©
icon: magnifying-glass-chart
---

# Arize Phoenix í†µí•©

ì´ ê°€ì´ë“œëŠ” [OpenInference](https://github.com/openinference/openinference) SDKë¥¼ í†µí•´ OpenTelemetryë¥¼ ì‚¬ìš©í•˜ì—¬ **Arize Phoenix**ë¥¼ **CrewAI**ì™€ í†µí•©í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì¤ë‹ˆë‹¤. ì´ ê°€ì´ë“œë¥¼ ì™„ë£Œí•˜ë©´ CrewAI agentë¥¼ ì¶”ì í•˜ê³  agentë¥¼ ì‰½ê²Œ ë””ë²„ê·¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

> **Arize Phoenixë€?** [Arize Phoenix](https://phoenix.arize.com)ëŠ” AI ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìœ„í•œ ì¶”ì  ë° í‰ê°€ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” LLM ê°€ì‹œì„±(observability) í”Œë«í¼ì…ë‹ˆë‹¤.

[![Phoenixì™€ì˜ í†µí•© ì˜ìƒ ë°ëª¨ ë³´ê¸°](https://storage.googleapis.com/arize-assets/fixtures/setup_crewai.png)](https://www.youtube.com/watch?v=Yc5q3l6F7Ww)

## ì‹œì‘í•˜ê¸°

CrewAIë¥¼ ì‚¬ìš©í•˜ê³  OpenInferenceë¥¼ í†µí•´ OpenTelemetryì™€ Arize Phoenixë¥¼ ì—°ë™í•˜ëŠ” ê°„ë‹¨í•œ ì˜ˆì œë¥¼ ë‹¨ê³„ë³„ë¡œ ì•ˆë‚´í•©ë‹ˆë‹¤.

ì´ ê°€ì´ë“œëŠ” [Google Colab](https://colab.research.google.com/github/Arize-ai/phoenix/blob/main/tutorials/tracing/crewai_tracing_tutorial.ipynb)ì—ì„œë„ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### 1ë‹¨ê³„: ì˜ì¡´ì„± ì„¤ì¹˜

```bash
pip install openinference-instrumentation-crewai crewai crewai-tools arize-phoenix-otel
```

### 2ë‹¨ê³„: í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

Phoenix Cloud API í‚¤ë¥¼ ì„¤ì •í•˜ê³  OpenTelemetryë¥¼ êµ¬ì„±í•˜ì—¬ ì¶”ì  ì •ë³´ë¥¼ Phoenixë¡œ ì „ì†¡í•©ë‹ˆë‹¤. Phoenix CloudëŠ” Arize Phoenixì˜ í˜¸ìŠ¤íŒ… ë²„ì „ì´ì§€ë§Œ, ì´ í†µí•©ì„ ì‚¬ìš©í•˜ëŠ” ë° í•„ìˆ˜ëŠ” ì•„ë‹™ë‹ˆë‹¤.

ë¬´ë£Œ Serper API í‚¤ëŠ” [ì—¬ê¸°](https://serper.dev/)ì—ì„œ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```python
import os
from getpass import getpass

# Get your Phoenix Cloud credentials
PHOENIX_API_KEY = getpass("ğŸ”‘ Enter your Phoenix Cloud API Key: ")

# Get API keys for services
OPENAI_API_KEY = getpass("ğŸ”‘ Enter your OpenAI API key: ")
SERPER_API_KEY = getpass("ğŸ”‘ Enter your Serper API key: ")

# Set environment variables
os.environ["PHOENIX_CLIENT_HEADERS"] = f"api_key={PHOENIX_API_KEY}"
os.environ["PHOENIX_COLLECTOR_ENDPOINT"] = "https://app.phoenix.arize.com" # Phoenix Cloud, change this to your own endpoint if you are using a self-hosted instance
os.environ["OPENAI_API_KEY"] = OPENAI_API_KEY
os.environ["SERPER_API_KEY"] = SERPER_API_KEY
```

### 3ë‹¨ê³„: Phoenixì™€ í•¨ê»˜ OpenTelemetry ì´ˆê¸°í™”í•˜ê¸°

OpenInference OpenTelemetry ê³„ì¸¡ SDKë¥¼ ì´ˆê¸°í™”í•˜ì—¬ íŠ¸ë ˆì´ìŠ¤ë¥¼ ìˆ˜ì§‘í•˜ê³  Phoenixë¡œ ì „ì†¡í•©ë‹ˆë‹¤.

```python
from phoenix.otel import register

tracer_provider = register(
    project_name="crewai-tracing-demo",
    auto_instrument=True,
)
```

### 4ë‹¨ê³„: CrewAI ì• í”Œë¦¬ì¼€ì´ì…˜ ìƒì„±í•˜ê¸°

ë‘ ëª…ì˜ ì—ì´ì „íŠ¸ê°€ í˜‘ë ¥í•˜ì—¬ AI ë°œì „ì— ê´€í•œ ë¸”ë¡œê·¸ ê¸€ì„ ì¡°ì‚¬í•˜ê³  ì‘ì„±í•˜ëŠ” CrewAI ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“¤ì–´ ë³´ê² ìŠµë‹ˆë‹¤.

```python
from crewai import Agent, Crew, Process, Task
from crewai_tools import SerperDevTool
from openinference.instrumentation.crewai import CrewAIInstrumentor
from phoenix.otel import register

# crewì— ëŒ€í•œ ëª¨ë‹ˆí„°ë§ ì„¤ì •
tracer_provider = register(
    endpoint="http://localhost:6006/v1/traces")
CrewAIInstrumentor().instrument(skip_dep_check=True, tracer_provider=tracer_provider)
search_tool = SerperDevTool()

# ì—­í• ê³¼ ëª©í‘œê°€ ì„¤ì •ëœ ì—ì´ì „íŠ¸ ì •ì˜
researcher = Agent(
    role="Senior Research Analyst",
    goal="AI ë° ë°ì´í„° ê³¼í•™ì˜ ìµœì²¨ë‹¨ ë°œì „ ì‚¬í•­ ë°œê²¬",
    backstory="""ë‹¹ì‹ ì€ ìµœê³  ìˆ˜ì¤€ì˜ ê¸°ìˆ  ì‹±í¬íƒ±í¬ì—ì„œ ê·¼ë¬´í•©ë‹ˆë‹¤.
    ìƒˆë¡œìš´ íŠ¸ë Œë“œë¥¼ ì‹ë³„í•˜ëŠ” ë° ì „ë¬¸ì„±ì´ ìˆìŠµë‹ˆë‹¤.
    ë³µì¡í•œ ë°ì´í„°ë¥¼ ë¶„ì„í•˜ê³  ì‹¤í–‰ ê°€ëŠ¥í•œ ì¸ì‚¬ì´íŠ¸ë¡œ ì œì‹œí•˜ëŠ” ë° ë›°ì–´ë‚©ë‹ˆë‹¤.""",
    verbose=True,
    allow_delegation=False,
    # ì›í•˜ëŠ” ëª¨ë¸ì„ ì§€ì •í•  ìˆ˜ ìˆëŠ” optional llm ì†ì„±ì„ ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    # llm=ChatOpenAI(model_name="gpt-3.5", temperature=0.7),
    tools=[search_tool],
)
writer = Agent(
    role="Tech Content Strategist",
    goal="ê¸°ìˆ  ë°œì „ì— ëŒ€í•œ ë§¤ë ¥ì ì¸ ì½˜í…ì¸  ì‘ì„±",
    backstory="""ë‹¹ì‹ ì€ í†µì°°ë ¥ ìˆê³  í¥ë¯¸ë¡œìš´ ê¸°ì‚¬ë¡œ ìœ ëª…í•œ ì½˜í…ì¸  ì „ëµê°€ì…ë‹ˆë‹¤.
    ë³µì¡í•œ ê°œë…ì„ ë§¤ë ¥ì ì¸ ìŠ¤í† ë¦¬ë¡œ ì „í™˜í•©ë‹ˆë‹¤.""",
    verbose=True,
    allow_delegation=True,
)

# ì—ì´ì „íŠ¸ë¥¼ ìœ„í•œ task ìƒì„±
task1 = Task(
    description="""2024ë…„ AI ë¶„ì•¼ì˜ ìµœì‹  ë°œì „ ìƒí™©ì— ëŒ€í•œ í¬ê´„ì ì¸ ë¶„ì„ì„ ìˆ˜í–‰í•˜ì„¸ìš”.
    ì£¼ìš” íŠ¸ë Œë“œ, íšê¸°ì  ê¸°ìˆ , ì‚°ì—…ì— ë¯¸ì¹  ì ì¬ì  ì˜í–¥ì„ ì‹ë³„í•˜ì„¸ìš”.""",
    expected_output="ì£¼ìš” ë‚´ìš©ì„ ë¶ˆë¦¿ í¬ì¸íŠ¸ë¡œ ì •ë¦¬í•œ ì „ì²´ ë¶„ì„ ë³´ê³ ì„œ",
    agent=researcher,
)

task2 = Task(
    description="""ì œê³µëœ ì¸ì‚¬ì´íŠ¸ë¥¼ í™œìš©í•˜ì—¬
    ê°€ì¥ ì¤‘ìš”í•œ AI ë°œì „ ë‚´ìš©ì„ ê°•ì¡°í•˜ëŠ” í¥ë¯¸ë¡œìš´ ë¸”ë¡œê·¸ ê¸€ì„ ì‘ì„±í•˜ì„¸ìš”.
    ê¸€ì€ ì •ë³´ì„± ìˆê³ , ê¸°ìˆ ì— ë°ì€ ë…ìë¥¼ ëŒ€ìƒìœ¼ë¡œ í•˜ë©´ì„œ ì½ê¸° ì‰½ê²Œ ì¨ì•¼ í•©ë‹ˆë‹¤.
    ë©‹ì§€ê²Œ ë“¤ë¦¬ë„ë¡ ì“°ë˜, ë³µì¡í•œ ë‹¨ì–´ëŠ” í”¼í•˜ì—¬ AIì²˜ëŸ¼ ë“¤ë¦¬ì§€ ì•Šê²Œ í•˜ì„¸ìš”.""",
    expected_output="ìµœì†Œ 4ê°œì˜ ë‹¨ë½ìœ¼ë¡œ êµ¬ì„±ëœ ì „ì²´ ë¸”ë¡œê·¸ ê¸€",
    agent=writer,
)

# ìˆœì°¨ í”„ë¡œì„¸ìŠ¤ ë°©ì‹ìœ¼ë¡œ crew ì¸ìŠ¤í„´ìŠ¤í™”
crew = Crew(
    agents=[researcher, writer], tasks=[task1, task2], verbose=1, process=Process.sequential
)

# crewì—ê²Œ ì‘ì—… ì‹œì‘ ì§€ì‹œ!
result = crew.kickoff()

print("######################")
print(result)
```

### 5ë‹¨ê³„: Phoenixì—ì„œ íŠ¸ë ˆì´ìŠ¤ ë³´ê¸°

ì—ì´ì „íŠ¸ë¥¼ ì‹¤í–‰í•œ í›„, Phoenixì—ì„œ CrewAI ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì˜í•´ ìƒì„±ëœ íŠ¸ë ˆì´ìŠ¤ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì—ì´ì „íŠ¸ ìƒí˜¸ì‘ìš©ê³¼ LLM í˜¸ì¶œì˜ ìƒì„¸í•œ ë‹¨ê³„ê°€ í‘œì‹œë˜ì–´ AI ì—ì´ì „íŠ¸ë¥¼ ë””ë²„ê¹…í•˜ê³  ìµœì í™”í•˜ëŠ” ë° ë„ì›€ì´ ë©ë‹ˆë‹¤.

Phoenix Cloud ê³„ì •ì— ë¡œê·¸ì¸í•œ ë‹¤ìŒ `project_name` íŒŒë¼ë¯¸í„°ì—ì„œ ì§€ì •í•œ í”„ë¡œì íŠ¸ë¡œ ì´ë™í•˜ì„¸ìš”. ëª¨ë“  ì—ì´ì „íŠ¸ ìƒí˜¸ì‘ìš©, ë„êµ¬ ì‚¬ìš© ë° LLM í˜¸ì¶œì´ í¬í•¨ëœ íŠ¸ë ˆì´ìŠ¤ì˜ íƒ€ì„ë¼ì¸ ë³´ê¸°ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

![Phoenixì—ì„œ ì—ì´ì „íŠ¸ ìƒí˜¸ì‘ìš©ì„ ë³´ì—¬ì£¼ëŠ” ì˜ˆì‹œ íŠ¸ë ˆì´ìŠ¤](https://storage.googleapis.com/arize-assets/fixtures/crewai_traces.png)

### ë²„ì „ í˜¸í™˜ì„± ì •ë³´
- Python 3.8+
- CrewAI >= 0.86.0
- Arize Phoenix >= 7.0.1
- OpenTelemetry SDK >= 1.31.0

### ì°¸ê³  ìë£Œ
- [Phoenix ë¬¸ì„œ](https://docs.arize.com/phoenix/) - Phoenix í”Œë«í¼ ê°œìš”.
- [CrewAI ë¬¸ì„œ](https://docs.crewai.com/) - CrewAI í”„ë ˆì„ì›Œí¬ ê°œìš”.
- [OpenTelemetry ë¬¸ì„œ](https://opentelemetry.io/docs/) - OpenTelemetry ê°€ì´ë“œ
- [OpenInference GitHub](https://github.com/openinference/openinference) - OpenInference SDK ì†ŒìŠ¤ ì½”ë“œ.