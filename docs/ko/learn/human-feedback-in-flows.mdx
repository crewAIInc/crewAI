---
title: Flowì—ì„œ ì¸ê°„ í”¼ë“œë°±
description: "@human_feedback ë°ì½”ë ˆì´í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ CrewAI Flowì— ì¸ê°„ í”¼ë“œë°±ì„ ì§ì ‘ í†µí•©í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ì„¸ìš”"
icon: user-check
mode: "wide"
---

## ê°œìš”

`@human_feedback` ë°ì½”ë ˆì´í„°ëŠ” CrewAI Flow ë‚´ì—ì„œ ì§ì ‘ human-in-the-loop(HITL) ì›Œí¬í”Œë¡œìš°ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•©ë‹ˆë‹¤. Flow ì‹¤í–‰ì„ ì¼ì‹œ ì¤‘ì§€í•˜ê³ , ì¸ê°„ì—ê²Œ ê²€í† ë¥¼ ìœ„í•´ ì¶œë ¥ì„ ì œì‹œí•˜ê³ , í”¼ë“œë°±ì„ ìˆ˜ì§‘í•˜ê³ , ì„ íƒì ìœ¼ë¡œ í”¼ë“œë°± ê²°ê³¼ì— ë”°ë¼ ë‹¤ë¥¸ ë¦¬ìŠ¤ë„ˆë¡œ ë¼ìš°íŒ…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ëŠ” íŠ¹íˆ ë‹¤ìŒê³¼ ê°™ì€ ê²½ìš°ì— ìœ ìš©í•©ë‹ˆë‹¤:

- **í’ˆì§ˆ ë³´ì¦**: AIê°€ ìƒì„±í•œ ì½˜í…ì¸ ë¥¼ ë‹¤ìš´ìŠ¤íŠ¸ë¦¼ì—ì„œ ì‚¬ìš©í•˜ê¸° ì „ì— ê²€í† 
- **ê²°ì • ê²Œì´íŠ¸**: ìë™í™”ëœ ì›Œí¬í”Œë¡œìš°ì—ì„œ ì¸ê°„ì´ ì¤‘ìš”í•œ ê²°ì •ì„ ë‚´ë¦¬ë„ë¡ í—ˆìš©
- **ìŠ¹ì¸ ì›Œí¬í”Œë¡œìš°**: ìŠ¹ì¸/ê±°ë¶€/ìˆ˜ì • íŒ¨í„´ êµ¬í˜„
- **ëŒ€í™”í˜• ê°œì„ **: ì¶œë ¥ì„ ë°˜ë³µì ìœ¼ë¡œ ê°œì„ í•˜ê¸° ìœ„í•´ í”¼ë“œë°± ìˆ˜ì§‘

```mermaid
flowchart LR
    A[Flow ë©”ì„œë“œ] --> B[ì¶œë ¥ ìƒì„±ë¨]
    B --> C[ì¸ê°„ì´ ê²€í† ]
    C --> D{í”¼ë“œë°±}
    D -->|emit ì§€ì •ë¨| E[LLMì´ Outcomeìœ¼ë¡œ ë§¤í•‘]
    D -->|emit ì—†ìŒ| F[HumanFeedbackResult]
    E --> G["@listen('approved')"]
    E --> H["@listen('rejected')"]
    F --> I[ë‹¤ìŒ ë¦¬ìŠ¤ë„ˆ]
```

## ë¹ ë¥¸ ì‹œì‘

Flowì— ì¸ê°„ í”¼ë“œë°±ì„ ì¶”ê°€í•˜ëŠ” ê°€ì¥ ê°„ë‹¨í•œ ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

```python Code
from crewai.flow.flow import Flow, start, listen
from crewai.flow.human_feedback import human_feedback

class SimpleReviewFlow(Flow):
    @human_feedback(request="ì´ ì½˜í…ì¸ ë¥¼ ê²€í† í•´ ì£¼ì„¸ìš”:")
    @start()
    def generate_content(self):
        return "ê²€í† ê°€ í•„ìš”í•œ AI ìƒì„± ì½˜í…ì¸ ì…ë‹ˆë‹¤."

    @listen(generate_content)
    def process_feedback(self, result):
        print(f"ì½˜í…ì¸ : {result.output}")
        print(f"ì¸ê°„ì˜ ì˜ê²¬: {result.feedback}")

flow = SimpleReviewFlow()
flow.kickoff()
```

ì´ Flowë¥¼ ì‹¤í–‰í•˜ë©´:
1. `generate_content`ë¥¼ ì‹¤í–‰í•˜ê³  ë¬¸ìì—´ì„ ë°˜í™˜í•©ë‹ˆë‹¤
2. ìš”ì²­ ë©”ì‹œì§€ì™€ í•¨ê»˜ ì‚¬ìš©ìì—ê²Œ ì¶œë ¥ì„ í‘œì‹œí•©ë‹ˆë‹¤
3. ì‚¬ìš©ìê°€ í”¼ë“œë°±ì„ ì…ë ¥í•  ë•Œê¹Œì§€ ëŒ€ê¸°í•©ë‹ˆë‹¤ (ë˜ëŠ” Enterë¥¼ ëˆŒëŸ¬ ê±´ë„ˆëœë‹ˆë‹¤)
4. `HumanFeedbackResult` ê°ì²´ë¥¼ `process_feedback`ì— ì „ë‹¬í•©ë‹ˆë‹¤

## @human_feedback ë°ì½”ë ˆì´í„°

### ë§¤ê°œë³€ìˆ˜

| ë§¤ê°œë³€ìˆ˜ | íƒ€ì… | í•„ìˆ˜ | ì„¤ëª… |
|----------|------|------|------|
| `request` | `str` | ì˜ˆ | ë©”ì„œë“œ ì¶œë ¥ê³¼ í•¨ê»˜ ì¸ê°„ì—ê²Œ í‘œì‹œë˜ëŠ” ë©”ì‹œì§€ |
| `emit` | `Sequence[str]` | ì•„ë‹ˆì˜¤ | ê°€ëŠ¥í•œ outcome ëª©ë¡. í”¼ë“œë°±ì´ ì´ ì¤‘ í•˜ë‚˜ë¡œ ë§¤í•‘ë˜ì–´ `@listen` ë°ì½”ë ˆì´í„°ë¥¼ íŠ¸ë¦¬ê±°í•©ë‹ˆë‹¤ |
| `llm` | `str \| BaseLLM` | `emit` ì§€ì • ì‹œ | í”¼ë“œë°±ì„ í•´ì„í•˜ê³  outcomeì— ë§¤í•‘í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” LLM |
| `default_outcome` | `str` | ì•„ë‹ˆì˜¤ | í”¼ë“œë°±ì´ ì œê³µë˜ì§€ ì•Šì„ ë•Œ ì‚¬ìš©í•  outcome. `emit`ì— ìˆì–´ì•¼ í•©ë‹ˆë‹¤ |
| `metadata` | `dict` | ì•„ë‹ˆì˜¤ | ì—”í„°í”„ë¼ì´ì¦ˆ í†µí•©ì„ ìœ„í•œ ì¶”ê°€ ë°ì´í„° |

### ê¸°ë³¸ ì‚¬ìš©ë²• (ë¼ìš°íŒ… ì—†ìŒ)

`emit`ì„ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´, ë°ì½”ë ˆì´í„°ëŠ” ë‹¨ìˆœíˆ í”¼ë“œë°±ì„ ìˆ˜ì§‘í•˜ê³  ë‹¤ìŒ ë¦¬ìŠ¤ë„ˆì— `HumanFeedbackResult`ë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤:

```python Code
@human_feedback(request="ì´ ë¶„ì„ì— ëŒ€í•´ ì–´ë–»ê²Œ ìƒê°í•˜ì‹œë‚˜ìš”?")
@start()
def analyze_data(self):
    return "ë¶„ì„ ê²°ê³¼: ë§¤ì¶œ 15% ì¦ê°€, ë¹„ìš© 8% ê°ì†Œ"

@listen(analyze_data)
def handle_feedback(self, result):
    # resultëŠ” HumanFeedbackResultì…ë‹ˆë‹¤
    print(f"ë¶„ì„: {result.output}")
    print(f"í”¼ë“œë°±: {result.feedback}")
```

### emitì„ ì‚¬ìš©í•œ ë¼ìš°íŒ…

`emit`ì„ ì§€ì •í•˜ë©´, ë°ì½”ë ˆì´í„°ëŠ” ë¼ìš°í„°ê°€ ë©ë‹ˆë‹¤. ì¸ê°„ì˜ ììœ  í˜•ì‹ í”¼ë“œë°±ì´ LLMì— ì˜í•´ í•´ì„ë˜ì–´ ì§€ì •ëœ outcome ì¤‘ í•˜ë‚˜ë¡œ ë§¤í•‘ë©ë‹ˆë‹¤:

```python Code
@human_feedback(
    request="ì´ ì½˜í…ì¸ ì˜ ì¶œíŒì„ ìŠ¹ì¸í•˜ì‹œê² ìŠµë‹ˆê¹Œ?",
    emit=["approved", "rejected", "needs_revision"],
    llm="gpt-4o-mini",
    default_outcome="needs_revision",
)
@start()
def review_content(self):
    return "ë¸”ë¡œê·¸ ê²Œì‹œë¬¼ ì´ˆì•ˆ ë‚´ìš©..."

@listen("approved")
def publish(self, result):
    print(f"ì¶œíŒ ì¤‘! ì‚¬ìš©ì ì˜ê²¬: {result.feedback}")

@listen("rejected")
def discard(self, result):
    print(f"íê¸°ë¨. ì´ìœ : {result.feedback}")

@listen("needs_revision")
def revise(self, result):
    print(f"ë‹¤ìŒì„ ê¸°ë°˜ìœ¼ë¡œ ìˆ˜ì • ì¤‘: {result.feedback}")
```

<Tip>
LLMì€ ê°€ëŠ¥í•œ ê²½ìš° êµ¬ì¡°í™”ëœ ì¶œë ¥(function calling)ì„ ì‚¬ìš©í•˜ì—¬ ì‘ë‹µì´ ì§€ì •ëœ outcome ì¤‘ í•˜ë‚˜ì„ì„ ë³´ì¥í•©ë‹ˆë‹¤. ì´ë¡œ ì¸í•´ ë¼ìš°íŒ…ì´ ì‹ ë¢°í•  ìˆ˜ ìˆê³  ì˜ˆì¸¡ ê°€ëŠ¥í•´ì§‘ë‹ˆë‹¤.
</Tip>

## HumanFeedbackResult

`HumanFeedbackResult` ë°ì´í„°í´ë˜ìŠ¤ëŠ” ì¸ê°„ í”¼ë“œë°± ìƒí˜¸ì‘ìš©ì— ëŒ€í•œ ëª¨ë“  ì •ë³´ë¥¼ í¬í•¨í•©ë‹ˆë‹¤:

```python Code
from crewai.flow.human_feedback import HumanFeedbackResult

@dataclass
class HumanFeedbackResult:
    output: Any              # ì¸ê°„ì—ê²Œ í‘œì‹œëœ ì›ë˜ ë©”ì„œë“œ ì¶œë ¥
    feedback: str            # ì¸ê°„ì˜ ì›ì‹œ í”¼ë“œë°± í…ìŠ¤íŠ¸
    outcome: str | None      # ë§¤í•‘ëœ outcome (emitì´ ì§€ì •ëœ ê²½ìš°)
    timestamp: datetime      # í”¼ë“œë°±ì´ ìˆ˜ì‹ ëœ ì‹œê°„
    method_name: str         # ë°ì½”ë ˆì´í„°ëœ ë©”ì„œë“œì˜ ì´ë¦„
    metadata: dict           # ë°ì½”ë ˆì´í„°ì— ì „ë‹¬ëœ ëª¨ë“  ë©”íƒ€ë°ì´í„°
```

### ë¦¬ìŠ¤ë„ˆì—ì„œ ì ‘ê·¼í•˜ê¸°

`emit`ì´ ìˆëŠ” `@human_feedback` ë©”ì„œë“œì— ì˜í•´ ë¦¬ìŠ¤ë„ˆê°€ íŠ¸ë¦¬ê±°ë˜ë©´, `HumanFeedbackResult`ë¥¼ ë°›ìŠµë‹ˆë‹¤:

```python Code
@listen("approved")
def on_approval(self, result: HumanFeedbackResult):
    print(f"ì›ë˜ ì¶œë ¥: {result.output}")
    print(f"ì‚¬ìš©ì í”¼ë“œë°±: {result.feedback}")
    print(f"Outcome: {result.outcome}")  # "approved"
    print(f"ìˆ˜ì‹  ì‹œê°„: {result.timestamp}")
```

## í”¼ë“œë°± íˆìŠ¤í† ë¦¬ ì ‘ê·¼í•˜ê¸°

`Flow` í´ë˜ìŠ¤ëŠ” ì¸ê°„ í”¼ë“œë°±ì— ì ‘ê·¼í•˜ê¸° ìœ„í•œ ë‘ ê°€ì§€ ì†ì„±ì„ ì œê³µí•©ë‹ˆë‹¤:

### last_human_feedback

ê°€ì¥ ìµœê·¼ì˜ `HumanFeedbackResult`ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤:

```python Code
@listen(some_method)
def check_feedback(self):
    if self.last_human_feedback:
        print(f"ë§ˆì§€ë§‰ í”¼ë“œë°±: {self.last_human_feedback.feedback}")
```

### human_feedback_history

Flow ë™ì•ˆ ìˆ˜ì§‘ëœ ëª¨ë“  `HumanFeedbackResult` ê°ì²´ì˜ ë¦¬ìŠ¤íŠ¸ì…ë‹ˆë‹¤:

```python Code
@listen(final_step)
def summarize(self):
    print(f"ìˆ˜ì§‘ëœ ì´ í”¼ë“œë°±: {len(self.human_feedback_history)}")
    for i, fb in enumerate(self.human_feedback_history):
        print(f"{i+1}. {fb.method_name}: {fb.outcome or 'ë¼ìš°íŒ… ì—†ìŒ'}")
```

<Warning>
ê° `HumanFeedbackResult`ëŠ” `human_feedback_history`ì— ì¶”ê°€ë˜ë¯€ë¡œ, ì—¬ëŸ¬ í”¼ë“œë°± ë‹¨ê³„ê°€ ì„œë¡œ ë®ì–´ì“°ì§€ ì•ŠìŠµë‹ˆë‹¤. ì´ ë¦¬ìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ Flow ë™ì•ˆ ìˆ˜ì§‘ëœ ëª¨ë“  í”¼ë“œë°±ì— ì ‘ê·¼í•˜ì„¸ìš”.
</Warning>

## ì™„ì „í•œ ì˜ˆì œ: ì½˜í…ì¸  ìŠ¹ì¸ ì›Œí¬í”Œë¡œìš°

ì½˜í…ì¸  ê²€í†  ë° ìŠ¹ì¸ ì›Œí¬í”Œë¡œìš°ë¥¼ êµ¬í˜„í•˜ëŠ” ì „ì²´ ì˜ˆì œì…ë‹ˆë‹¤:

<CodeGroup>

```python Code
from crewai.flow.flow import Flow, start, listen
from crewai.flow.human_feedback import human_feedback, HumanFeedbackResult
from pydantic import BaseModel


class ContentState(BaseModel):
    topic: str = ""
    draft: str = ""
    final_content: str = ""
    revision_count: int = 0


class ContentApprovalFlow(Flow[ContentState]):
    """ì½˜í…ì¸ ë¥¼ ìƒì„±í•˜ê³  ì¸ê°„ì˜ ìŠ¹ì¸ì„ ë°›ëŠ” Flowì…ë‹ˆë‹¤."""

    @start()
    def get_topic(self):
        self.state.topic = input("ì–´ë–¤ ì£¼ì œì— ëŒ€í•´ ê¸€ì„ ì“¸ê¹Œìš”? ")
        return self.state.topic

    @listen(get_topic)
    def generate_draft(self, topic):
        # ì‹¤ì œ ì‚¬ìš©ì—ì„œëŠ” LLMì„ í˜¸ì¶œí•©ë‹ˆë‹¤
        self.state.draft = f"# {topic}\n\n{topic}ì— ëŒ€í•œ ì´ˆì•ˆì…ë‹ˆë‹¤..."
        return self.state.draft

    @human_feedback(
        request="ì´ ì´ˆì•ˆì„ ê²€í† í•´ ì£¼ì„¸ìš”. 'approved', 'rejected'ë¡œ ë‹µí•˜ê±°ë‚˜ ìˆ˜ì • í”¼ë“œë°±ì„ ì œê³µí•´ ì£¼ì„¸ìš”:",
        emit=["approved", "rejected", "needs_revision"],
        llm="gpt-4o-mini",
        default_outcome="needs_revision",
    )
    @listen(generate_draft)
    def review_draft(self, draft):
        return draft

    @listen("approved")
    def publish_content(self, result: HumanFeedbackResult):
        self.state.final_content = result.output
        print("\nâœ… ì½˜í…ì¸ ê°€ ìŠ¹ì¸ë˜ì–´ ì¶œíŒë˜ì—ˆìŠµë‹ˆë‹¤!")
        print(f"ê²€í† ì ì½”ë©˜íŠ¸: {result.feedback}")
        return "published"

    @listen("rejected")
    def handle_rejection(self, result: HumanFeedbackResult):
        print("\nâŒ ì½˜í…ì¸ ê°€ ê±°ë¶€ë˜ì—ˆìŠµë‹ˆë‹¤")
        print(f"ì´ìœ : {result.feedback}")
        return "rejected"

    @listen("needs_revision")
    def revise_content(self, result: HumanFeedbackResult):
        self.state.revision_count += 1
        print(f"\nğŸ“ ìˆ˜ì • #{self.state.revision_count} ìš”ì²­ë¨")
        print(f"í”¼ë“œë°±: {result.feedback}")

        # ì‹¤ì œ Flowì—ì„œëŠ” generate_draftë¡œ ëŒì•„ê°ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤
        # ì´ ì˜ˆì œì—ì„œëŠ” ë‹¨ìˆœíˆ í™•ì¸í•©ë‹ˆë‹¤
        return "revision_requested"


# Flow ì‹¤í–‰
flow = ContentApprovalFlow()
result = flow.kickoff()
print(f"\nFlow ì™„ë£Œ. ìš”ì²­ëœ ìˆ˜ì •: {flow.state.revision_count}")
```

```text Output
ì–´ë–¤ ì£¼ì œì— ëŒ€í•´ ê¸€ì„ ì“¸ê¹Œìš”? AI ì•ˆì „

==================================================
OUTPUT FOR REVIEW:
==================================================
# AI ì•ˆì „

AI ì•ˆì „ì— ëŒ€í•œ ì´ˆì•ˆì…ë‹ˆë‹¤...
==================================================

ì´ ì´ˆì•ˆì„ ê²€í† í•´ ì£¼ì„¸ìš”. 'approved', 'rejected'ë¡œ ë‹µí•˜ê±°ë‚˜ ìˆ˜ì • í”¼ë“œë°±ì„ ì œê³µí•´ ì£¼ì„¸ìš”:
(Press Enter to skip, or type your feedback)

Your feedback: ì¢‹ì•„ ë³´ì…ë‹ˆë‹¤, ìŠ¹ì¸!

âœ… ì½˜í…ì¸ ê°€ ìŠ¹ì¸ë˜ì–´ ì¶œíŒë˜ì—ˆìŠµë‹ˆë‹¤!
ê²€í† ì ì½”ë©˜íŠ¸: ì¢‹ì•„ ë³´ì…ë‹ˆë‹¤, ìŠ¹ì¸!

Flow ì™„ë£Œ. ìš”ì²­ëœ ìˆ˜ì •: 0
```

</CodeGroup>

## ë‹¤ë¥¸ ë°ì½”ë ˆì´í„°ì™€ ê²°í•©í•˜ê¸°

`@human_feedback` ë°ì½”ë ˆì´í„°ëŠ” ë‹¤ë¥¸ Flow ë°ì½”ë ˆì´í„°ì™€ í•¨ê»˜ ì‘ë™í•©ë‹ˆë‹¤. ìˆœì„œê°€ ì¤‘ìš”í•©ë‹ˆë‹¤:

```python Code
# ì˜¬ë°”ë¦„: @human_feedbackì´ Flow ë°ì½”ë ˆì´í„°ë¥¼ ê°ìŒ‰ë‹ˆë‹¤
@human_feedback(request="ì´ê²ƒì„ ê²€í† í•´ ì£¼ì„¸ìš”:")
@start()
def my_start_method(self):
    return "content"

@human_feedback(request="ì´ê²ƒë„ ê²€í† í•´ ì£¼ì„¸ìš”:")
@listen(other_method)
def my_listener(self, data):
    return f"processed: {data}"
```

<Tip>
`@human_feedback`ë¥¼ ê°€ì¥ ë°”ê¹¥ìª½ ë°ì½”ë ˆì´í„°(ì²« ë²ˆì§¸/ìƒë‹¨)ë¡œ ë°°ì¹˜í•˜ì—¬ ë©”ì„œë“œê°€ ì™„ë£Œëœ í›„ ì‹¤í–‰ë˜ê³  ë°˜í™˜ ê°’ì„ ìº¡ì²˜í•  ìˆ˜ ìˆë„ë¡ í•˜ì„¸ìš”.
</Tip>

## ëª¨ë²” ì‚¬ë¡€

### 1. ëª…í™•í•œ ìš”ì²­ ë©”ì‹œì§€ ì‘ì„±

`request` ë§¤ê°œë³€ìˆ˜ëŠ” ì¸ê°„ì´ ë³´ëŠ” ê²ƒì…ë‹ˆë‹¤. ì‹¤í–‰ ê°€ëŠ¥í•˜ê²Œ ë§Œë“œì„¸ìš”:

```python Code
# âœ… ì¢‹ìŒ - ëª…í™•í•˜ê³  ì‹¤í–‰ ê°€ëŠ¥
@human_feedback(request="ì´ ìš”ì•½ì´ í•µì‹¬ í¬ì¸íŠ¸ë¥¼ ì •í™•í•˜ê²Œ ìº¡ì²˜í–ˆë‚˜ìš”? 'ì˜ˆ'ë¡œ ë‹µí•˜ê±°ë‚˜ ë¬´ì—‡ì´ ë¹ ì¡ŒëŠ”ì§€ ì„¤ëª…í•´ ì£¼ì„¸ìš”:")

# âŒ ë‚˜ì¨ - ëª¨í˜¸í•¨
@human_feedback(request="ì´ê²ƒì„ ê²€í† í•´ ì£¼ì„¸ìš”:")
```

### 2. ì˜ë¯¸ ìˆëŠ” Outcome ì„ íƒ

`emit`ì„ ì‚¬ìš©í•  ë•Œ, ì¸ê°„ì˜ ì‘ë‹µì— ìì—°ìŠ¤ëŸ½ê²Œ ë§¤í•‘ë˜ëŠ” outcomeì„ ì„ íƒí•˜ì„¸ìš”:

```python Code
# âœ… ì¢‹ìŒ - ìì—°ì–´ outcome
emit=["approved", "rejected", "needs_more_detail"]

# âŒ ë‚˜ì¨ - ê¸°ìˆ ì ì´ê±°ë‚˜ ë¶ˆëª…í™•
emit=["state_1", "state_2", "state_3"]
```

### 3. í•­ìƒ ê¸°ë³¸ Outcome ì œê³µ

ì‚¬ìš©ìê°€ ì…ë ¥ ì—†ì´ Enterë¥¼ ëˆ„ë¥´ëŠ” ê²½ìš°ë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ `default_outcome`ì„ ì‚¬ìš©í•˜ì„¸ìš”:

```python Code
@human_feedback(
    request="ìŠ¹ì¸í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (ìˆ˜ì • ìš”ì²­í•˜ë ¤ë©´ Enter ëˆ„ë¥´ì„¸ìš”)",
    emit=["approved", "needs_revision"],
    llm="gpt-4o-mini",
    default_outcome="needs_revision",  # ì•ˆì „í•œ ê¸°ë³¸ê°’
)
```

### 4. ê°ì‚¬ ì¶”ì ì„ ìœ„í•œ í”¼ë“œë°± íˆìŠ¤í† ë¦¬ ì‚¬ìš©

ê°ì‚¬ ë¡œê·¸ë¥¼ ìƒì„±í•˜ê¸° ìœ„í•´ `human_feedback_history`ì— ì ‘ê·¼í•˜ì„¸ìš”:

```python Code
@listen(final_step)
def create_audit_log(self):
    log = []
    for fb in self.human_feedback_history:
        log.append({
            "step": fb.method_name,
            "outcome": fb.outcome,
            "feedback": fb.feedback,
            "timestamp": fb.timestamp.isoformat(),
        })
    return log
```

### 5. ë¼ìš°íŒ…ëœ í”¼ë“œë°±ê³¼ ë¼ìš°íŒ…ë˜ì§€ ì•Šì€ í”¼ë“œë°± ëª¨ë‘ ì²˜ë¦¬

Flowë¥¼ ì„¤ê³„í•  ë•Œ, ë¼ìš°íŒ…ì´ í•„ìš”í•œì§€ ê³ ë ¤í•˜ì„¸ìš”:

| ì‹œë‚˜ë¦¬ì˜¤ | ì‚¬ìš© |
|----------|------|
| ê°„ë‹¨í•œ ê²€í† , í”¼ë“œë°± í…ìŠ¤íŠ¸ë§Œ í•„ìš” | `emit` ì—†ìŒ |
| ì‘ë‹µì— ë”°ë¼ ë‹¤ë¥¸ ê²½ë¡œë¡œ ë¶„ê¸° í•„ìš” | `emit` ì‚¬ìš© |
| ìŠ¹ì¸/ê±°ë¶€/ìˆ˜ì •ì´ ìˆëŠ” ìŠ¹ì¸ ê²Œì´íŠ¸ | `emit` ì‚¬ìš© |
| ë¡œê¹…ë§Œì„ ìœ„í•œ ì½”ë©˜íŠ¸ ìˆ˜ì§‘ | `emit` ì—†ìŒ |

## ê´€ë ¨ ë¬¸ì„œ

- [Flow ê°œìš”](/ko/concepts/flows) - CrewAI Flowì— ëŒ€í•´ ì•Œì•„ë³´ê¸°
- [Flow ìƒíƒœ ê´€ë¦¬](/ko/guides/flows/mastering-flow-state) - Flowì—ì„œ ìƒíƒœ ê´€ë¦¬í•˜ê¸°
- [@routerë¥¼ ì‚¬ìš©í•œ ë¼ìš°íŒ…](/ko/concepts/flows#router) - ì¡°ê±´ë¶€ ë¼ìš°íŒ…ì— ëŒ€í•´ ë” ì•Œì•„ë³´ê¸°
- [ì‹¤í–‰ ì‹œ ì¸ê°„ ì…ë ¥](/ko/learn/human-input-on-execution) - íƒœìŠ¤í¬ ìˆ˜ì¤€ ì¸ê°„ ì…ë ¥
