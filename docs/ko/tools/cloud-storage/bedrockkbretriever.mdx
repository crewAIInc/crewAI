---
title: 'Bedrock 지식 베이스 검색기'
description: '자연어 쿼리를 사용하여 Amazon Bedrock 지식 베이스에서 정보를 검색합니다'
icon: aws
---

# `BedrockKBRetrieverTool`

`BedrockKBRetrieverTool`은 CrewAI 에이전트가 자연어 쿼리를 사용하여 Amazon Bedrock Knowledge Bases에서 정보를 검색할 수 있도록 합니다.

## 설치

```bash
uv pip install 'crewai[tools]'
```

## 요구 사항

- AWS 자격 증명이 구성되어 있음 (환경 변수 또는 AWS CLI를 통해)
- `boto3` 및 `python-dotenv` 패키지
- Amazon Bedrock Knowledge Base에 대한 액세스

## 사용법

CrewAI agent와 함께 이 도구를 사용하는 방법은 다음과 같습니다:

```python {2, 4-17}
from crewai import Agent, Task, Crew
from crewai_tools.aws.bedrock.knowledge_base.retriever_tool import BedrockKBRetrieverTool

# Initialize the tool
kb_tool = BedrockKBRetrieverTool(
    knowledge_base_id="your-kb-id",
    number_of_results=5
)

# Create a CrewAI agent that uses the tool
researcher = Agent(
    role='Knowledge Base Researcher',
    goal='Find information about company policies',
    backstory='I am a researcher specialized in retrieving and analyzing company documentation.',
    tools=[kb_tool],
    verbose=True
)

# Create a task for the agent
research_task = Task(
    description="Find our company's remote work policy and summarize the key points.",
    agent=researcher
)

# Create a crew with the agent
crew = Crew(
    agents=[researcher],
    tasks=[research_task],
    verbose=2
)

# Run the crew
result = crew.kickoff()
print(result)   
```

## 도구 인자

| 인자 | 타입 | 필수 여부 | 기본값 | 설명 |
|:---------|:-----|:---------|:---------|:-------------|
| **knowledge_base_id** | `str` | 예 | 없음 | 지식 베이스의 고유 식별자 (0-10자리 영숫자) |
| **number_of_results** | `int` | 아니오 | 5 | 반환할 최대 결과 개수 |
| **retrieval_configuration** | `dict` | 아니오 | 없음 | 지식 베이스 쿼리를 위한 사용자 지정 설정 |
| **guardrail_configuration** | `dict` | 아니오 | 없음 | 콘텐츠 필터링 설정 |
| **next_token** | `str` | 아니오 | 없음 | 페이지네이션을 위한 토큰 |

## 환경 변수

```bash
BEDROCK_KB_ID=your-knowledge-base-id  # Alternative to passing knowledge_base_id
AWS_REGION=your-aws-region            # Defaults to us-east-1
AWS_ACCESS_KEY_ID=your-access-key     # Required for AWS authentication
AWS_SECRET_ACCESS_KEY=your-secret-key # Required for AWS authentication
```

## 응답 형식

도구는 결과를 JSON 형식으로 반환합니다:

```json
{
  "results": [
    {
      "content": "Retrieved text content",
      "content_type": "text",
      "source_type": "S3",
      "source_uri": "s3://bucket/document.pdf",
      "score": 0.95,
      "metadata": {
        "additional": "metadata"
      }
    }
  ],
  "nextToken": "pagination-token",
  "guardrailAction": "NONE"
}
```

## 고급 사용법

### 사용자 지정 검색 구성

```python
kb_tool = BedrockKBRetrieverTool(
    knowledge_base_id="your-kb-id",
    retrieval_configuration={
        "vectorSearchConfiguration": {
            "numberOfResults": 10,
            "overrideSearchType": "HYBRID"
        }
    }
)

policy_expert = Agent(
    role='Policy Expert',
    goal='Analyze company policies in detail',
    backstory='I am an expert in corporate policy analysis with deep knowledge of regulatory requirements.',
    tools=[kb_tool]
)
```

## 지원되는 데이터 소스

- Amazon S3
- Confluence
- Salesforce
- SharePoint
- 웹 페이지
- 사용자 지정 문서 위치
- Amazon Kendra
- SQL 데이터베이스

## 사용 사례

### 엔터프라이즈 지식 통합
- 민감한 데이터를 노출하지 않고도 CrewAI 에이전트가 귀사의 독점 지식에 접근할 수 있도록 합니다.
- 에이전트가 귀사의 특정 정책, 절차 및 문서를 기반으로 의사 결정을 내릴 수 있도록 허용합니다.
- 데이터 보안을 유지하면서 내부 문서를 기반으로 질문에 답변할 수 있는 에이전트를 생성합니다.

### 전문 분야 지식
- CrewAI 에이전트를 도메인별 지식 베이스(법률, 의료, 기술 등)에 재학습 없이 연결할 수 있습니다
- 이미 AWS 환경에서 관리되고 있는 기존 지식 저장소를 활용할 수 있습니다
- CrewAI의 추론과 지식 베이스의 도메인별 정보를 결합할 수 있습니다

### 데이터 기반 의사결정
- Ground CrewAI 에이전트 응답을 일반 지식이 아닌 실제 회사 데이터에 기반하게 하세요
- 에이전트가 귀사의 특정 비즈니스 맥락과 문서를 바탕으로 추천을 제공하도록 보장하세요
- 지식 기반에서 사실 정보를 검색하여 환각을 줄이세요

### 확장 가능한 정보 접근
- 모델에 모든 지식을 삽입하지 않고도 조직의 테라바이트급 지식에 접근할 수 있습니다.
- 특정 작업에 필요한 관련 정보만 동적으로 쿼리합니다.
- 대규모 지식 베이스를 효율적으로 처리하기 위해 AWS의 확장 가능한 인프라를 활용합니다.

### 컴플라이언스 및 거버넌스
- CrewAI 에이전트가 회사의 승인된 문서에 부합하는 응답을 제공하도록 보장하십시오
- 에이전트가 사용한 정보 출처에 대한 감사 가능한 기록을 만드십시오
- 에이전트가 접근할 수 있는 정보 출처를 제어하십시오