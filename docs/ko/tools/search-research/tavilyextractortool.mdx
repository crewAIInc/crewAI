---
title: "Tavily 추출 도구"
description: "Tavily API를 사용하여 웹 페이지에서 구조화된 콘텐츠 추출"
icon: square-poll-horizontal
mode: "wide"
---

`TavilyExtractTool`은 CrewAI 에이전트가 Tavily API를 사용하여 웹 페이지에서 구조화된 콘텐츠를 추출할 수 있도록 합니다. 단일 URL 또는 URL 목록을 처리할 수 있으며, 추출 깊이 제어 및 이미지 포함 옵션을 제공합니다.

## 설치

`TavilyExtractTool`을 사용하려면 `tavily-python` 라이브러리를 설치해야 합니다:

```shell
pip install 'crewai[tools]' tavily-python
```

또한 환경 변수로 Tavily API 키를 설정해야 합니다:

```bash
export TAVILY_API_KEY='your-tavily-api-key'
```

## 예제 사용법

다음은 CrewAI 에이전트에서 `TavilyExtractTool`을 초기화하고 사용하는 방법입니다:

```python
import os
from crewai import Agent, Task, Crew
from crewai_tools import TavilyExtractTool

# Ensure TAVILY_API_KEY is set in your environment
# os.environ["TAVILY_API_KEY"] = "YOUR_API_KEY"

# Initialize the tool
tavily_tool = TavilyExtractTool()

# Create an agent that uses the tool
extractor_agent = Agent(
    role='Web Content Extractor',
    goal='Extract key information from specified web pages',
    backstory='You are an expert at extracting relevant content from websites using the Tavily API.',
    tools=[tavily_tool],
    verbose=True
)

# Define a task for the agent
extract_task = Task(
    description='Extract the main content from the URL https://example.com using basic extraction depth.',
    expected_output='A JSON string containing the extracted content from the URL.',
    agent=extractor_agent
)

# Create and run the crew
crew = Crew(
    agents=[extractor_agent],
    tasks=[extract_task],
    verbose=2
)

result = crew.kickoff()
print(result)
```

## 구성 옵션

### 에이전트 설정 가능 매개변수 (런타임)

이 매개변수들은 에이전트가 런타임에 제공할 수 있습니다:

- `urls` (Union[List[str], str]): **필수**. 데이터를 추출할 단일 URL 문자열 또는 URL 문자열 목록.
- `extract_depth` (Literal["basic", "advanced"], 선택): 추출 깊이 - 'basic'은 주요 콘텐츠, 'advanced'는 종합적인 추출.
- `query` (str, 선택): 추출된 콘텐츠 청크를 재순위화하기 위한 사용자 의도 쿼리.

### 사용자 설정 가능 매개변수 (초기화)

이 매개변수들은 도구를 생성할 때 구성됩니다:

- `include_images` (bool, 선택): 추출 결과에 이미지를 포함할지 여부. 기본값은 `False`.
- `format` (Literal["markdown", "text"], 선택): 추출된 콘텐츠의 형식.
- `timeout` (int, 선택): 추출 요청 완료까지 대기할 최대 시간(초). 기본값은 `60`.
- `include_favicon` (bool, 선택): 추출 결과에 파비콘 URL을 포함할지 여부.
- `include_usage` (bool, 선택): 응답에 크레딧 사용 정보를 포함할지 여부.
- `chunks_per_source` (int, 선택): 소스당 최대 콘텐츠 청크 수 (1-5). 쿼리가 제공될 때만 사용됨.
- `extra_kwargs` (dict, 선택): tavily-python에 전달할 추가 키워드 인자.

## 고급 사용법

### 고급 추출을 사용한 다중 URL

```python
# Example with multiple URLs and advanced extraction
multi_extract_task = Task(
    description='Extract content from https://example.com and https://anotherexample.org using advanced extraction.',
    expected_output='A JSON string containing the extracted content from both URLs.',
    agent=extractor_agent
)

# Configure the tool with custom parameters
custom_extractor = TavilyExtractTool(
    include_images=True,
    format='markdown',
    timeout=120
)

agent_with_custom_tool = Agent(
    role="Advanced Content Extractor",
    goal="Extract comprehensive content with images",
    tools=[custom_extractor]
)
```

### 도구 매개변수

초기화 시 매개변수를 설정하여 도구의 동작을 사용자 지정할 수 있습니다:

```python
# Initialize with custom configuration
extractor_tool = TavilyExtractTool(
    include_images=True,       # Include image results
    format='markdown',         # Get content in markdown format
    timeout=90                 # Custom timeout
)
```

## 기능

- **단일 또는 다중 URL**: 하나의 URL에서 콘텐츠를 추출하거나 단일 요청으로 여러 URL을 처리
- **설정 가능한 깊이**: 기본(빠름) 및 고급(종합) 추출 모드 선택 가능
- **이미지 지원**: 선택적으로 추출 결과에 이미지 포함
- **쿼리 기반 재순위화**: 쿼리를 사용하여 가장 관련성 높은 콘텐츠 청크 획득
- **구조화된 출력**: 추출된 콘텐츠를 포함하는 잘 형식화된 JSON 반환
- **오류 처리**: 네트워크 타임아웃 및 추출 오류에 대한 강력한 처리

## 응답 형식

도구는 제공된 URL에서 추출된 구조화된 데이터를 나타내는 JSON 문자열을 반환합니다. 정확한 구조는 페이지의 콘텐츠와 사용된 `extract_depth`에 따라 다릅니다.

일반적인 응답 요소는 다음과 같습니다:
- **Title**: 페이지 제목
- **Content**: 페이지의 주요 텍스트 콘텐츠
- **Images**: 이미지 URL 및 메타데이터 (`include_images=True`인 경우)
- **Metadata**: 작성자, 설명 등의 추가 페이지 정보

## 사용 사례

- **콘텐츠 분석**: 경쟁사 웹사이트에서 콘텐츠 추출 및 분석
- **연구**: 분석을 위해 여러 소스에서 구조화된 데이터 수집
- **콘텐츠 마이그레이션**: 기존 웹사이트에서 마이그레이션을 위한 콘텐츠 추출
- **모니터링**: 변경 감지를 위한 정기적인 콘텐츠 추출
- **데이터 수집**: 웹 소스에서 정보의 체계적인 추출

응답 구조 및 사용 가능한 옵션에 대한 자세한 정보는 [Tavily API 문서](https://docs.tavily.com/documentation/api-reference/endpoint/extract)를 참조하세요.
