interactions:
- request:
    body: '{"messages": [{"role": "system", "content": "You are Test Agent. An agent
      designed to test tool execution behavior\nYour personal goal is: Test that tools
      are called only once\nYou ONLY have access to the following tools, and should
      NEVER make up tools that are not listed here:\n\nTool Name: counting_tool\nTool
      Arguments: {''query'': {''description'': None, ''type'': ''str''}}\nTool Description:
      A tool that counts executions to detect duplicate calls\n\nIMPORTANT: Use the
      following format in your response:\n\n```\nThought: you should always think
      about what to do\nAction: the action to take, only one name of [counting_tool],
      just the name, exactly as it''s written.\nAction Input: the input to the action,
      just a simple JSON object, enclosed in curly braces, using \" to wrap keys and
      values.\nObservation: the result of the action\n```\n\nOnce all necessary information
      is gathered, return the following format:\n\n```\nThought: I now know the final
      answer\nFinal Answer: the final answer to the original input question\n```"},
      {"role": "user", "content": "\nCurrent Task: Use the counting_tool with query
      ''test_query'' to verify it''s called only once.\n\nThis is the expected criteria
      for your final answer: Tool execution result showing it was called exactly once\nyou
      MUST return the actual complete content as the final answer, not a summary.\n\nBegin!
      This is VERY important to you, use the tools available and give your best Final
      Answer, your job depends on it!\n\nThought:"}], "model": "gpt-4o", "stop": ["\nObservation:"]}'
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate, zstd
      connection:
      - keep-alive
      content-length:
      - '1530'
      content-type:
      - application/json
      host:
      - api.openai.com
      user-agent:
      - OpenAI/Python 1.93.0
      x-stainless-arch:
      - arm64
      x-stainless-async:
      - 'false'
      x-stainless-lang:
      - python
      x-stainless-os:
      - MacOS
      x-stainless-package-version:
      - 1.93.0
      x-stainless-raw-response:
      - 'true'
      x-stainless-read-timeout:
      - '600.0'
      x-stainless-retry-count:
      - '0'
      x-stainless-runtime:
      - CPython
      x-stainless-runtime-version:
      - 3.12.9
    method: POST
    uri: https://api.openai.com/v1/chat/completions
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA4RTTW/bMAy9+1cQuvSSFG6WT9+KogO6AbsMGArMhaPITKxOFjWJbhsE+e+D5SRO
        ug67GAIf3yP5SO8SAKFLkYFQlWRVOzO8u//y8pm/+8X949f6x92zU4+kb/Hb3L6mXgxaBq2eUfGR
        da2odgZZk+1g5VEytqo3s8lsMlqM0kUEairRtLSN4+GYhqN0NB6m82E6PRAr0gqDyOBnAgCwi9+2
        RVvim8ggHRwjNYYgNyiyUxKA8GTaiJAh6MDSshj0oCLLaGPXD2ARS2ACfEPVMAJXCIoay9puCiYy
        8Kq5iuHfDfotXDEGLuL7KhJtaDyCZtAByJotKGkMlkBWIUhbAq0C+pdO2mNoDF/nNrfL5TK3t6p1
        K7sseQzDg3UNZ7DLRayXiwxy0dfPxT7KnA/ncd0E2XprG2POAGktsWxlo61PB2R/MtLQxnlahXdU
        sdZWh6rwKAPZ1rTA5ERE9wnAU1xYc7ED4TzVjgumXxjLfUpHnZ7oT6RHx+MDyMTSnLHG08EHekWJ
        LLUJZysXSqoKy57a34dsSk1nQHI29d/dfKTdTd4t57/yPaAUOsaycB5LrS4n7tM8tn/Qv9JOLseG
        RXtHWmHBGn27iRLXsjHdcYuwDYx1sdZ2g9553V342hVqtb6ZzSeT6Uwk++QPAAAA//8DAA02fd7q
        AwAA
    headers:
      CF-RAY:
      - 97d10392f9061576-SJC
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Wed, 10 Sep 2025 18:33:29 GMT
      Server:
      - cloudflare
      Set-Cookie:
      - __cf_bm=TpPVrPB6Uyzu_V_W_4q7LfJwelM8Nu90wD8JC4QlFj0-1757529209-1.0.1.1-qv9wY7pehwlIfe8UhhOl2pdCeHH6I7atLrnec5ortOBE1hvoozwho61AZixXZxQxS8h1y.84SdYrq1XOrXe5xKnevnOszPGrzZgElz9efl8;
        path=/; expires=Wed, 10-Sep-25 19:03:29 GMT; domain=.api.openai.com; HttpOnly;
        Secure; SameSite=None
      - _cfuvid=5rzIVdkpMipGVEMEDcK.SOG7Qfmh.T6hdR3RSOo9Ajo-1757529209787-0.0.1.1-604800000;
        path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      Transfer-Encoding:
      - chunked
      X-Content-Type-Options:
      - nosniff
      access-control-expose-headers:
      - X-Request-ID
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      openai-organization:
      - crewai-iuxna1
      openai-processing-ms:
      - '779'
      openai-project:
      - proj_xitITlrFeen7zjNSzML82h9x
      openai-version:
      - '2020-10-01'
      x-envoy-upstream-service-time:
      - '912'
      x-openai-proxy-wasm:
      - v0.1
      x-ratelimit-limit-project-requests:
      - '10000'
      x-ratelimit-limit-requests:
      - '10000'
      x-ratelimit-limit-tokens:
      - '30000000'
      x-ratelimit-remaining-project-requests:
      - '9999'
      x-ratelimit-remaining-requests:
      - '9999'
      x-ratelimit-remaining-tokens:
      - '29999654'
      x-ratelimit-reset-project-requests:
      - 6ms
      x-ratelimit-reset-requests:
      - 6ms
      x-ratelimit-reset-tokens:
      - 0s
      x-request-id:
      - req_7e82e87749cc419bb75e19aade550e33
    status:
      code: 200
      message: OK
- request:
    body: '{"messages": [{"role": "system", "content": "You are Test Agent. An agent
      designed to test tool execution behavior\nYour personal goal is: Test that tools
      are called only once\nYou ONLY have access to the following tools, and should
      NEVER make up tools that are not listed here:\n\nTool Name: counting_tool\nTool
      Arguments: {''query'': {''description'': None, ''type'': ''str''}}\nTool Description:
      A tool that counts executions to detect duplicate calls\n\nIMPORTANT: Use the
      following format in your response:\n\n```\nThought: you should always think
      about what to do\nAction: the action to take, only one name of [counting_tool],
      just the name, exactly as it''s written.\nAction Input: the input to the action,
      just a simple JSON object, enclosed in curly braces, using \" to wrap keys and
      values.\nObservation: the result of the action\n```\n\nOnce all necessary information
      is gathered, return the following format:\n\n```\nThought: I now know the final
      answer\nFinal Answer: the final answer to the original input question\n```"},
      {"role": "user", "content": "\nCurrent Task: Use the counting_tool with query
      ''test_query'' to verify it''s called only once.\n\nThis is the expected criteria
      for your final answer: Tool execution result showing it was called exactly once\nyou
      MUST return the actual complete content as the final answer, not a summary.\n\nBegin!
      This is VERY important to you, use the tools available and give your best Final
      Answer, your job depends on it!\n\nThought:"}, {"role": "assistant", "content":
      "I need to execute the counting_tool with the query ''test_query'' to ensure
      it is only called once and observe the result.\n\n```\nAction: counting_tool\nAction
      Input: {\"query\": \"test_query\"}\n```\nObservation: Tool executed once with
      query: test_query (call #1)"}], "model": "gpt-4o", "stop": ["\nObservation:"]}'
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate, zstd
      connection:
      - keep-alive
      content-length:
      - '1832'
      content-type:
      - application/json
      cookie:
      - __cf_bm=TpPVrPB6Uyzu_V_W_4q7LfJwelM8Nu90wD8JC4QlFj0-1757529209-1.0.1.1-qv9wY7pehwlIfe8UhhOl2pdCeHH6I7atLrnec5ortOBE1hvoozwho61AZixXZxQxS8h1y.84SdYrq1XOrXe5xKnevnOszPGrzZgElz9efl8;
        _cfuvid=5rzIVdkpMipGVEMEDcK.SOG7Qfmh.T6hdR3RSOo9Ajo-1757529209787-0.0.1.1-604800000
      host:
      - api.openai.com
      user-agent:
      - OpenAI/Python 1.93.0
      x-stainless-arch:
      - arm64
      x-stainless-async:
      - 'false'
      x-stainless-lang:
      - python
      x-stainless-os:
      - MacOS
      x-stainless-package-version:
      - 1.93.0
      x-stainless-raw-response:
      - 'true'
      x-stainless-read-timeout:
      - '600.0'
      x-stainless-retry-count:
      - '0'
      x-stainless-runtime:
      - CPython
      x-stainless-runtime-version:
      - 3.12.9
    method: POST
    uri: https://api.openai.com/v1/chat/completions
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA4xSy27bMBC86ysW7KUF7MJ2/NStLdoiRY6+tHUg0dRKYkyRDLmyEwT+94K0aylt
        AuRCiJyd0c7sPiUATBYsBSZqTqKxavjl64/995udvx+vq+ub+cpdlXY9lfvPdz/tLzYIDLO9Q0F/
        WR+FaaxCkkafYOGQEwbV8WK2mE1Wk/EoAo0pUAVaZWk4NcPJaDIdjpbD0fxMrI0U6FkKvxMAgKd4
        hhZ1gQ8shSgTXxr0nlfI0ksRAHNGhRfGvZeeuCY26EBhNKGOXed5vtHr2rRVTSlcgzYH2IWDaoRS
        aq6Aa39At9Hf4u1TvKWwNkYBPqBoCQswWiAcJNVw36J7TIHQUxa/4b3gSsG78YeNzvO834fDsvU8
        xKBbpXoA19oQDzHGBG7PyPHiWZnKOrP1/1BZKbX0deaQe6ODP0/GsogeE4DbmG37LC5mnWksZWR2
        GH93NZ+f9Fg3zQ6dLM8gGeKqx1pNBy/oZQUSl8r3psMEFzUWHbUbJW8LaXpA0nP9fzcvaZ+cS129
        Rb4DhEBLWGTWYSHFc8ddmcOw7K+VXVKODTOPbi8FZiTRhUkUWPJWnfaQ+UdP2GSl1BU66+RpGUub
        iW05Xixns/mCJcfkDwAAAP//AwDX4QdilQMAAA==
    headers:
      CF-RAY:
      - 97d1039958a21576-SJC
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Wed, 10 Sep 2025 18:33:30 GMT
      Server:
      - cloudflare
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      Transfer-Encoding:
      - chunked
      X-Content-Type-Options:
      - nosniff
      access-control-expose-headers:
      - X-Request-ID
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      openai-organization:
      - crewai-iuxna1
      openai-processing-ms:
      - '556'
      openai-project:
      - proj_xitITlrFeen7zjNSzML82h9x
      openai-version:
      - '2020-10-01'
      x-envoy-upstream-service-time:
      - '704'
      x-openai-proxy-wasm:
      - v0.1
      x-ratelimit-limit-project-requests:
      - '10000'
      x-ratelimit-limit-requests:
      - '10000'
      x-ratelimit-limit-tokens:
      - '30000000'
      x-ratelimit-remaining-project-requests:
      - '9999'
      x-ratelimit-remaining-requests:
      - '9999'
      x-ratelimit-remaining-tokens:
      - '29999590'
      x-ratelimit-reset-project-requests:
      - 6ms
      x-ratelimit-reset-requests:
      - 6ms
      x-ratelimit-reset-tokens:
      - 0s
      x-request-id:
      - req_a1dcddfe378743a1895ea1f59991ee62
    status:
      code: 200
      message: OK
version: 1
